<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summarise model results — summary.blrmfit • OncoBayes2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarise model results — summary.blrmfit"><meta name="description" content="Provides model summaries for blrm_exnex() and
blrm_trial() analyses."><meta property="og:description" content="Provides model summaries for blrm_exnex() and
blrm_trial() analyses."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OncoBayes2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9-4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Guiding Oncology Dose-Escalation Trials</a></li>
    <li><a class="dropdown-item" href="../articles/map_approach.html">Meta-Analytic-Predictive (MAP) approach for dose-toxicity modelling</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Novartis/OncoBayes2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Summarise model results</h1>
      <small class="dont-index">Source: <a href="https://github.com/Novartis/OncoBayes2/blob/main/R/summary.R" class="external-link"><code>R/summary.R</code></a></small>
      <div class="d-none name"><code>summary.blrmfit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides model summaries for <code><a href="blrm_exnex.html">blrm_exnex()</a></code> and
<code><a href="blrm_trial.html">blrm_trial()</a></code> analyses.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'blrmfit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  transform <span class="op">=</span> <span class="op">!</span><span class="va">predictive</span>,</span>
<span>  prob <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  <span class="va">interval_prob</span>,</span>
<span>  predictive <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>fitted model object</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>optional data frame specifying for what to predict;
if missing, then the data of the input model <code>object</code> is
used</p></dd>


<dt id="arg-transform">transform<a class="anchor" aria-label="anchor" href="#arg-transform"></a></dt>
<dd><p>logical (defaults to <code>FALSE</code>) indicating if
the linear predictor on the logit link scale is transformed
with <code>inv_logit</code> to the 0-1 response scale.</p></dd>


<dt id="arg-prob">prob<a class="anchor" aria-label="anchor" href="#arg-prob"></a></dt>
<dd><p>central probability mass to report, i.e. the quantiles
0.5-prob/2 and 0.5+prob/2 are displayed. Multiple central
widths can be specified.</p></dd>


<dt id="arg-interval-prob">interval_prob<a class="anchor" aria-label="anchor" href="#arg-interval-prob"></a></dt>
<dd><p>optional vector of sorted quantiles for which
the interval probabilities are calculated</p></dd>


<dt id="arg-predictive">predictive<a class="anchor" aria-label="anchor" href="#arg-predictive"></a></dt>
<dd><p>logical indicates if the posterior predictive is
being summarized. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>not used in this function</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>data.frame</code> of the key summaries of the
posterior mean, standard deviation, central probability
interval, median and optional interval probabilities. Each row
of the <code>data.frame</code> corresponds to the respective input
data which is by default the same data set as used for the
<code><a href="blrm_exnex.html">blrm_exnex()</a></code> analysis or the data specified in the
<code>newdata</code> argument.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The calculated posterior summaries are returned as a
<code>data.frame</code> and contain optional interval probabilites for
the specified vector of sorted quantiles. These summaries are
calculated on the response scale by default and can be obtained on
the link scale when setting <code>transform=FALSE</code>.</p>
<p>When the results are requested for the predictive distribution with
<code>predictive=TRUE</code>, then the link scale refers to the total
counts while the transformed scale divides the (predictive) counts
by the number of trials such that results are on the 0-1 scale.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Setting up dummy sampling for fast execution of example</span></span></span>
<span class="r-in"><span><span class="co">## Please use 4 chains and 100x more warmup &amp; iter in practice</span></span></span>
<span class="r-in"><span><span class="va">.user_mc_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  OncoBayes2.MC.warmup <span class="op">=</span> <span class="fl">10</span>, OncoBayes2.MC.iter <span class="op">=</span> <span class="fl">20</span>, OncoBayes2.MC.chains <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  OncoBayes2.MC.save_warmup <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="example_model.html">example_model</a></span><span class="op">(</span><span class="st">"single_agent"</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The largest R-hat is NA, indicating chains have not mixed.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Running the chains for more iterations may help. See</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> https://mc-stan.org/misc/warnings.html#r-hat</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Bulk Effective Samples Size (ESS) is too low, indicating posterior means and medians may be unreliable.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Running the chains for more iterations may help. See</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> https://mc-stan.org/misc/warnings.html#bulk-ess</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Tail Effective Samples Size (ESS) is too low, indicating posterior variances and tail quantiles may be unreliable.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Running the chains for more iterations may help. See</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> https://mc-stan.org/misc/warnings.html#tail-ess</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## obtain underdosing (0-0.16], target dosing (0.16-0.33] and</span></span></span>
<span class="r-in"><span><span class="co">## overdosing (0.33-1] probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">blrmfit</span>, interval_prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.16</span>, <span class="fl">0.33</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          mean          sd         2.5%          50%      97.5% [0,0.16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.002175423 0.004455258 2.102056e-06 5.600326e-05 0.01109878      1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.008724355 0.016941761 7.153526e-05 7.739391e-04 0.04382645      1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.026667152 0.043294240 1.074384e-03 6.356063e-03 0.11731116      1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.100945832 0.099841064 1.588602e-02 5.984106e-02 0.27934022      0.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.500049422 0.257584238 1.649624e-01 4.445401e-01 0.85698480      0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (0.16,0.33] (0.33,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0.0      0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         0.0      0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         0.0      0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         0.3      0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         0.3      0.7</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## obtain predictive distribution for respective cohorts and</span></span></span>
<span class="r-in"><span><span class="co">## calculate probability for no event, 1 event or &gt;1 event</span></span></span>
<span class="r-in"><span><span class="co">## note that this does the calculation for the cohort sizes</span></span></span>
<span class="r-in"><span><span class="co">## as put into the data-set</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">blrmfit</span>, interval_prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>, predictive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         mean         sd 2.5% 50% 97.5%    (-1,0]       (0,1]       (1,10]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.00652627 0.08135883    0   0     0 0.9935413 0.006391417 6.730507e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.03489742 0.19414638    0   0     1 0.9670534 0.031050985 1.895623e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.13333576 0.40437497    0   0     1 0.8881358 0.092754269 1.910991e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.40378333 0.68606126    0   0     2 0.6942718 0.223424873 8.230338e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 1.00009884 0.78703834    0   1     2 0.3096653 0.380570644 3.097641e-01</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## to obtain the predictive for a cohort-size of 6 for all patients</span></span></span>
<span class="r-in"><span><span class="co">## in the data-set one would need to use the newdata argument, e.g.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">blrmfit</span>,</span></span>
<span class="r-in"><span>  newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">hist_SA</span>, num_patients <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  interval_prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>, predictive <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         mean        sd 2.5% 50% 97.5%    (-1,0]      (0,1]       (1,10]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.01305254 0.1164477    0   0     0 0.9872816 0.01238904 0.0003293602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.05234613 0.2442111    0   0     1 0.9523973 0.04312347 0.0044792015</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.16000291 0.4542517    0   0     2 0.8710905 0.10227207 0.0266374558</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.60567499 0.9020405    0   0     3 0.6070046 0.24112848 0.1518668865</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 3.00029653 1.8142327    0   3     6 0.0889746 0.16092126 0.7501041392</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Recover user set sampling defaults</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">.user_mc_options</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Weber, Lukas A. Widmer, Andrew Bean.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

